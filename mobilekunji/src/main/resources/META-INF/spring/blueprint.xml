<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:osgi="http://www.eclipse.org/gemini/blueprint/schema/blueprint"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.eclipse.org/gemini/blueprint/schema/blueprint http://www.eclipse.org/gemini/blueprint/schema/blueprint/gemini-blueprint.xsd">


    <import resource="classpath*:META-INF/motech/*.xml"/>

    <osgi:service ref="contentUploadService"
                  interface="org.motechproject.nms.mobilekunji.service.ContentUploadService"/>

    <osgi:service ref="contentUploadCsvService"
                  interface="org.motechproject.nms.mobilekunji.service.ContentUploadCsvService"/>

    <osgi:service ref="userDetailsService"
                  interface="org.motechproject.nms.mobilekunji.service.UserDetailsService"/>

    <osgi:service ref="saveCallDetailsService"
                  interface="org.motechproject.nms.mobilekunji.service.SaveCallDetailsService"/>

    <osgi:service ref="flwDetailService"
                  interface="org.motechproject.nms.mobilekunji.service.FlwDetailService"/>

    <osgi:service ref="callDetailService"
                  interface="org.motechproject.nms.mobilekunji.service.CallDetailService"/>

    <osgi:service ref="configurationService"
                  interface="org.motechproject.nms.mobilekunji.service.ConfigurationService"/>


    <osgi:reference id="cardContentDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.CardContentDataService"/>

    <osgi:reference id="configurationDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.ConfigurationDataService"/>

    <osgi:reference id="contentUploadRecordDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.ContentUploadRecordDataService"/>

    <osgi:reference id="contentUploadCsvRecordDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.ContentUploadCsvRecordDataService"/>

    <osgi:reference id="bulkUploadErrLogService"
                    interface="org.motechproject.nms.util.service.BulkUploadErrLogService"/>

    <osgi:reference id="serviceConsumptionRecordsDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.CallDetailRecordDataService"/>

    <osgi:reference id="serviceConsumptionFlwRecordsDataService"
                    interface="org.motechproject.nms.mobilekunji.repository.FlwDetailRecordDataService"/>

    <osgi:reference id="userProfileDetailsService"
                    interface="org.motechproject.nms.frontlineworker.service.UserProfileDetailsService"/>


    <bean id="moduleRegistrationData" class="org.motechproject.osgi.web.ModuleRegistrationData">
        <constructor-arg name="moduleName" value="mobilekunji"/>
        <constructor-arg name="url" value="../mobilekunji/resources/index.html"/>
        <constructor-arg name="angularModules">
            <list>
                <value>hello-world</value>
            </list>
        </constructor-arg>
        <constructor-arg name="i18n">
            <map>
                <entry key="messages" value="../mobilekunji/resources/messages/"/>
            </map>
        </constructor-arg>
        <property name="defaultURL" value="/mobilekunji"/>
    </bean>


</beans>
